% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geih_month.R
\name{merge_month}
\alias{merge_month}
\title{Fusionar y consolidar módulos mensuales de la GEIH}
\usage{
merge_month(month, year = 2024, data_dir = NULL, verbose = TRUE)
}
\arguments{
\item{month}{Nombre del mes en español (ejemplo: \code{"enero"}, \code{"febrero"}, ...).}

\item{year}{Año de los datos que se desea leer (por defecto \code{2024}).
Se usa únicamente cuando el usuario define su propia carpeta de datos.}

\item{data_dir}{Ruta a la carpeta base con los datos.
Si es \code{NULL} (por defecto), la función intentará resolver automáticamente:
primero la carpeta configurada con \code{\link[=set_geih_data_dir]{set_geih_data_dir()}}, y si no existe,
usará el \emph{bundle} embebido 2024.}

\item{verbose}{Si es \code{TRUE}, muestra mensajes de progreso al leer y unir archivos.}
}
\value{
Un \code{data.table} consolidado con toda la información del mes seleccionado.
Contiene las variables de identificación del hogar y las personas,
junto con las variables de los distintos módulos de la encuesta.
}
\description{
Lee todos los módulos de un mes de la Gran Encuesta Integrada de Hogares (GEIH),
almacenados como archivos CSV, y los combina en un único objeto \code{data.table}.
}
\details{
\subsection{Origen de los datos}{
\itemize{
\item \strong{Por defecto}: si no configuras nada, los datos se leen del \emph{bundle} de ejemplo
incluido en el paquete, que corresponde a la GEIH \strong{2024} publicada por el DANE.
\item \strong{Datos propios}: si tienes los archivos de otro año,
primero debes configurar la carpeta con \code{\link[=set_geih_data_dir]{set_geih_data_dir()}}.
Por ejemplo:

\if{html}{\out{<div class="sourceCode">}}\preformatted{set_geih_data_dir("C:/mi_geih_data")
}\if{html}{\out{</div>}}

En ese caso, la función buscará los archivos dentro de la ruta:
\verb{C:/mi_geih_data/<año>/<mes>/}.
\item \strong{Organización recomendada}: para mayor compatibilidad se recomienda
organizar los datos en subcarpetas por año y mes, por ejemplo:

\if{html}{\out{<div class="sourceCode">}}\preformatted{datos/
  ├── 2023/
  │     ├── enero/
  │     ├── febrero/
  │     └── ...
  └── 2024/
        ├── enero/
        └── ...
}\if{html}{\out{</div>}}

Sin embargo, la función también admite formatos más simples:
\itemize{
\item \verb{carpeta/<mes>/} (solo subcarpetas por mes), o
\item \verb{carpeta/} (CSVs directamente en la raíz).
}
}
}
}
\examples{
# Caso 1: usando los datos de ejemplo incluidos en el paquete (GEIH 2024 - DANE)
dt <- merge_month("enero")

# Caso 2: usando datos propios organizados en carpetas por año y mes
set_geih_data_dir("C:/mi_geih_data")
dt <- merge_month("enero", year = 2023)

# Caso 3: pasando la ruta directamente (menos recomendado)
dt <- merge_month("enero", year = 2023, data_dir = "C:/mis_datos")

}
